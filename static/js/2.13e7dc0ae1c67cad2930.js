webpackJsonp([2],{"2Bwq":function(e,t){},VXrx:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={_httpCache:{},handlerResponse:function(e,t,n,r){var a=void 0;switch(!0){case Boolean(t&&(a=t(e))):r(a);break;default:n(e)}},getDetailInfo:function(e,t){var n=this,r=function(e){if(0==e.body.code){var n=e.body.data,r={code:n.code,name:n.name,type:String(n.deptState),statu:String(n.deleteFlag),typeOptions:[{label:"临床",value:"0"},{label:"职能",value:"1"}]};t(r)}};$http.get("http://172.16.1.106:8084/meeting/meetingDept/findMeetingDeptByUUID?uuid="+e.id,null,{loading:!0}).then(function(e){return n.handlerResponse(e,null,r)})},setAdd:function(e,t,n){var r=this,a=function(e){if(1==e.body.code)return{error:5,i18n:"add_error_2",text:e.body.msg}},o=function(e){if(0==e.body.code)return t({success:1,i18n:"set_success_1",text:e.body.msg})},i=function(e){n(e)};$http.post("http://172.16.1.106:8084/meeting/meetingDept/addMeetingDept",e,{loading:!0}).then(function(e){return r.handlerResponse(e,a,o,i)})},setEdit:function(e,t,n){var r=this,a=function(e){if(1==e.body.code)return{error:5,i18n:"add_error_2",text:e.body.msg}},o=function(e){if(0==e.body.code)return t({success:1,i18n:"set_success_1",text:e.body.msg})},i=function(e){n(e)};$http.post("http://172.16.1.106:8084/meeting/meetingDept/updateMeetingDept",e,{loading:!0}).then(function(e){return r.handlerResponse(e,a,o,i)})}},a={methods:{initForm:function(){return{code:"",name:"",type:"0",typeOptions:[{label:"临床",value:"0"},{label:"职能",value:"1"}],statu:"0"}},initRules:function(){return{name:[{required:!0,message:"请输入科室名称",trigger:"blur"}],type:[{required:!0,message:"请选择科室类型",trigger:"blur"}],code:[{required:!0,message:"请输入科室编码",trigger:"blur"}],statu:[{required:!0,message:"请选择状态",trigger:"blur"}]}},handlerTypeChange:function(e){this.form.type=e},handleSubmit:function(){var e=this;this.$refs.ruleForm.validate(function(t){if(!t)return!1;var n={uuid:e.id,code:e.form.code,deptState:e.form.type,name:e.form.name,deleteFlag:e.form.statu},a=function(t){e.$message.success(t.text),e.$router.push("/department-mgt")},o=function(t){e.$message.error(t.text)};e.id?r.setEdit(n,a,o):r.setAdd(n,a,o)})},handlerCancel:function(){this.$router.push("/department-mgt")},getDetailInfo:function(){var e=this,t={id:this.id};r.getDetailInfo(t,function(t){e.form=t})}},mounted:function(){this.id&&this.getDetailInfo()},data:function(){return{id:this.$route.params.id,form:this.initForm(),formRules:this.initRules()}}},o={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"container-main"},[n("el-form",{ref:"ruleForm",staticClass:"form",attrs:{"label-width":"160px","label-position":"left",model:e.form,rules:e.formRules}},[n("el-form-item",{attrs:{label:" 科室编码：",prop:"code"}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.code,callback:function(t){e.$set(e.form,"code",t)},expression:"form.code"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"科室名称：",prop:"name"}},[n("el-input",{attrs:{clearable:""},model:{value:e.form.name,callback:function(t){e.$set(e.form,"name",t)},expression:"form.name"}})],1),e._v(" "),n("el-form-item",{attrs:{label:"科室类型：",prop:"type"}},[n("el-select",{attrs:{placeholder:"请选择科室类型"},on:{change:e.handlerTypeChange},model:{value:e.form.type,callback:function(t){e.$set(e.form,"type",t)},expression:"form.type"}},e._l(e.form.typeOptions,function(e){return n("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),e._v(" "),e.id?n("el-form-item",{attrs:{label:"状态：",prop:"statu"}},[n("el-radio-group",{model:{value:e.form.statu,callback:function(t){e.$set(e.form,"statu",t)},expression:"form.statu"}},[n("el-radio",{attrs:{label:"0"}},[e._v("使用")]),e._v(" "),n("el-radio",{attrs:{label:"1"}},[e._v("停用")])],1)],1):e._e()],1),e._v(" "),n("div",{staticClass:"label-fade"},[n("el-button",{staticClass:"search-btn",attrs:{type:"primary",size:"small"},on:{click:e.handleSubmit}},[e._v("确定")]),e._v(" "),n("el-button",{staticClass:"search-btn",attrs:{type:"primary",size:"small"},on:{click:e.handlerCancel}},[e._v("取消")])],1)],1)])},staticRenderFns:[]};var i=n("VU/8")(a,o,!1,function(e){n("2Bwq")},"data-v-5006d603",null);t.default=i.exports}});