webpackJsonp([17],{X8Rq:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n={_httpCache:{},handlerResponse:function(t,e,a,n){var l=void 0;switch(!0){case Boolean(e&&(l=e(t))):n(l);break;default:a(t)}},getTableDataList:function(t,e){var a=this,n=function(t){if(0==t.body.code){var a=t.body.data,n=[],l=0;if(a){l=Number(a.total);for(var i=0,r=a.list;i<r.length;i++)n.push({id:r[i].uuid,name:r[i].name,statu:0==r[i].deleteFlag?"使用":"停用",code:r[i].code,type:0==r[i].deptState?"临床":"职能"});console.log(n)}e(n,l)}};$http.get("http://172.16.1.106:8084/meeting/meetingDept/findAllMeetingDept?page="+t.page+"&size="+t.size,null,{loading:!0}).then(function(t){return a.handlerResponse(t,null,n)})},setDel:function(t,e,a){var n=this,l=function(t){if(1==t.body.code)return{error:5,i18n:"add_error_2",text:t.body.msg}},i=function(t){if(0==t.body.code)return e({success:1,i18n:"set_success_1",text:t.body.msg})},r=function(t){a(t)};$http.get("http://172.16.1.106:8084/meeting/meetingDept/deleteListMeetingDept?list="+t.list,null,{loading:!0}).then(function(t){return n.handlerResponse(t,l,i,r)})}},l={methods:{initTable:function(){return{tableData:[],total:100,page:1,size:10}},handleSelectionChange:function(t){console.log(t),this.multipleSelection=t},handlerEdit:function(t){this.$router.push("/department-mgt/edit/"+t)},handlerAllDel:function(){var t=this;if(this.multipleSelection.length){var e=[];for(var a in this.multipleSelection)e.push(this.multipleSelection[a].id);var l={list:e};n.setDel(l,function(e){t.$message.success(e.text),t.getTableData()},function(e){t.$message.error(e.text)})}else this.$message.warning("请您至少选中一行！")},handlerImport:function(){},handlerAdd:function(){this.$router.push("/department-mgt/add")},setHeaderClass:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;return 0===e?" background: linear-gradient(rgba(255,255,255,0.5),rgba(255,255,255,0.5)),linear-gradient(rgba(0,178,186,0.5),rgba(0,178,186,0.5));":""},handleCurrentChange:function(t){this.table.page=t,this.getTableData()},getTableData:function(){var t=this,e={size:this.table.size,page:this.table.page};n.getTableDataList(e,function(e,a){t.table.tableData=e,t.table.total=Number(a)})}},created:function(){this.getTableData()},data:function(){return{table:this.initTable(),multipleSelection:[]}}},i={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-main"},[a("div",{staticClass:"btn-box"},[a("el-button",{staticClass:"search-btn ",attrs:{type:"primary",size:"small"},on:{click:t.handlerImport}},[t._v("导入")]),t._v(" "),a("el-button",{staticClass:"search-btn",attrs:{type:"primary",size:"small"},on:{click:t.handlerAdd}},[t._v("添加")]),t._v(" "),a("el-button",{staticClass:"search-btn ",attrs:{type:"primary",size:"small"},on:{click:t.handlerAllDel}},[t._v("删除")])],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.tableData,"header-cell-style":t.setHeaderClass,border:"","max-height":"380"},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{align:"center",type:"selection",width:"80"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",prop:"code",label:"科室编码"}}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"科室名称",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"type",align:"center",label:"类型"}}),t._v(" "),a("el-table-column",{attrs:{prop:"statu",align:"center",label:"状态"}}),t._v(" "),a("el-table-column",{attrs:{prop:"",align:"center",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerEdit(e.row.id)}}},[t._v("编辑")])]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.table.page,"pager-count":t.$v.paging.pagerCount,layout:t.$v.paging.layout,total:t.table.total},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var r=a("VU/8")(l,i,!1,function(t){a("asnc")},"data-v-0a8d0d22",null);e.default=r.exports},asnc:function(t,e){}});