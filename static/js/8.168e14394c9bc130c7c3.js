webpackJsonp([8],{"/enk":function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a("fZjL"),l=a.n(n),i={_httpCache:{},handlerResponse:function(t,e,a,n){var l=void 0;switch(!0){case Boolean(e&&(l=e(t))):n(l);break;default:a(t)}},getTableDataList:function(t,e){var a=this,n=function(t){if(0==t.body.code){var a=t.body.data,n=[],i=0;if(0!=l()(a).length&&(i=Number(a.total),a.list))for(var s=0,r=a.list;s<r.length;s++)n.push({theme:r[s].meetingName,attendTime:r[s].startTime+"-"+r[s].signBackEndTime,signTime:r[s].signInBeginTime+"-"+r[s].signInEndTime,place:r[s].roomAddress,signOutTime:r[s].signBackBeginTime+"-"+r[s].signBackEndTime,attendanceRate:r[s].attend,tardinessRate:r[s].late,status:r[s].meetingState,state:r[s].state,id:r[s].uuid});e(n,i)}};$http.post("http://172.16.1.106:8084/meeting/meeting/findMeeting",t,{loading:!0}).then(function(t){return a.handlerResponse(t,null,n)})},setDel:function(t,e,a){var n=this,l=function(t){if(0!=t.body.code)return{text:t.body.msg}},i=function(t){if(0==t.body.code)return e({text:t.body.msg})},s=function(t){a(t)};$http.get("http://172.16.1.106:8084/meeting/manager/deleteMeetingById?uuid="+t.uuid,null,{loading:!0}).then(function(t){return n.handlerResponse(t,l,i,s)})},setRelease:function(t,e,a){var n=this,l=function(t){if(0!=t.body.code)return{text:t.body.msg}},i=function(t){if(0==t.body.code)return e({text:t.body.msg})},s=function(t){a(t)};$http.post("http://172.16.1.106:8084/meeting/manager/putMeetingState",t,{loading:!0}).then(function(t){return n.handlerResponse(t,l,i,s)})}},s={methods:{initTable:function(){return{tableData:[],total:0,page:1,size:5}},setHeaderClass:function(t){t.row,t.column;var e=t.rowIndex;t.columnIndex;return 0===e?" background: linear-gradient(rgba(255,255,255,0.5),rgba(255,255,255,0.5)),linear-gradient(rgba(0,178,186,0.5),rgba(0,178,186,0.5));":""},handlerDetail:function(t){this.$router.push("/attendance-mgt/main")},handlerDelete:function(t){var e=this;this.$confirm("确定删除吗？","提示",{center:!0,confirmButtonClass:"bi-button @fill-blue",cancelButtonClass:"bi-button @hollow-white-blue",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var a={uuid:t.id};i.setDel(a,function(t){e.$message.success(t.text),e.getTableData()},function(t){e.$message.error(t.text)})}).catch(function(){})},handlerCancel:function(t,e){var a=this;this.$confirm("确定取消发布吗？","提示",{center:!0,confirmButtonClass:"bi-button @fill-blue",cancelButtonClass:"bi-button @hollow-white-blue",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var n={uuid:t.id,state:e};i.setRelease(n,function(t){a.$message.success(t.text),a.getTableData()},function(t){a.$message.error(t.text)})}).catch(function(){})},handlerManage:function(t){this.$router.push("/agenda-mgt/manage/detail/"+t.id)},handlerRelease:function(t,e){var a=this;this.$confirm("一旦发布，无法取消，确定发布吗？","提示",{center:!0,confirmButtonClass:"bi-button @fill-blue",cancelButtonClass:"bi-button @hollow-white-blue",confirmButtonText:"确定",cancelButtonText:"取消"}).then(function(){var n={uuid:t.id,state:e};i.setRelease(n,function(t){a.$message.success(t.text),a.getTableData()},function(t){a.$message.error(t.text)})}).catch(function(){})},handlerMainAtt:function(){this.$router.push("/attendance-mgt/main")},handlerComAtt:function(){this.$router.push("/attendance-mgt/commonly")},handlerTimeChange:function(t){this.time=t},handlerSearch:function(){this.getTableData()},handlerStatusChange:function(t){this.activeName=t.name,this.getTableData()},handleSizeChange:function(t){this.table.size=t,this.getTableData()},handleCurrentChange:function(t){this.table.page=$val,this.getTableData()},getTableData:function(){var t=this,e={size:this.table.size,page:this.table.page,endTime:this.time[1],startTime:this.time[0],meetingName:this.theme,state:"4"==this.activeName?"":this.activeName};i.getTableDataList(e,function(e,a){t.table.tableData=e,t.table.total=Number(a)})}},created:function(){this.getTableData()},mounted:function(){},data:function(){return{time:[],theme:"",activeName:"4",table:this.initTable(),mainAttShow:!1,comAttShow:!1}}},r={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container"},[a("div",{staticClass:"container-main"},[a("el-form",{ref:"form",attrs:{"label-width":"90px","label-position":"left",inline:!0}},[a("el-form-item",{attrs:{label:"会议时间"}},[a("el-date-picker",{attrs:{"default-value":t.time,clearable:!1,format:"yyyy-MM-dd HH:mm:ss",type:"datetimerange","range-separator":"至","start-placeholder":"开始时间","end-placeholder":"结束时间"},on:{change:t.handlerTimeChange},model:{value:t.time,callback:function(e){t.time=e},expression:"time"}})],1),t._v(" "),a("el-form-item",{attrs:{label:"会议主题"}},[a("el-input",{attrs:{clearable:"",placeholder:"请输入会议主题"},model:{value:t.theme,callback:function(e){t.theme=e},expression:"theme"}})],1)],1),t._v(" "),a("el-button",{staticClass:"search-btn",attrs:{type:"primary",size:"small"},on:{click:t.handlerSearch}},[t._v("查询")]),t._v(" "),a("div",{staticClass:"tab-status"},[a("el-tabs",{on:{"tab-click":t.handlerStatusChange},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"全 部",name:"4"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"进行中",name:"0"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"未开始",name:"2"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"待发布",name:"3"}}),t._v(" "),a("el-tab-pane",{attrs:{label:"已结束",name:"1"}})],1)],1),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{data:t.table.tableData,"header-cell-style":t.setHeaderClass,border:"","max-height":"216"}},[a("el-table-column",{attrs:{align:"center",prop:"theme",label:"会议主题"}}),t._v(" "),a("el-table-column",{attrs:{prop:"place",label:"会议地点",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"attendTime",label:"会议时间",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{prop:"signTime",align:"center",label:"签到时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"signOutTime",align:"center",label:"签退时间"}}),t._v(" "),a("el-table-column",{attrs:{prop:"status",label:"状态",align:"center"}}),t._v(" "),a("el-table-column",{attrs:{align:"center",width:"350",label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return["0"==e.row.state||"1"==e.row.state?a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerDetail(e.row)}}},[t._v("参会情况")]):t._e(),t._v(" "),"2"==e.row.state?a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerCancel(e.row,3)}}},[t._v("取消发布")]):t._e(),t._v(" "),"2"==e.row.state||"3"==e.row.state?a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerManage(e.row)}}},[t._v("管理")]):t._e(),t._v(" "),"2"==e.row.state||"3"==e.row.state||"1"==e.row.state?a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerDelete(e.row)}}},[t._v("删除")]):t._e(),t._v(" "),"3"==e.row.state?a("el-button",{staticClass:"search-btn btn-normal",attrs:{type:"primary",size:"small"},on:{click:function(a){t.handlerRelease(e.row,2)}}},[t._v("发布")]):t._e()]}}])})],1),t._v(" "),a("el-pagination",{attrs:{background:"","current-page":t.table.page,"pager-count":t.$v.paging.pagerCount,layout:t.$v.paging.layout,total:t.table.total},on:{"current-change":t.handleCurrentChange}})],1)])},staticRenderFns:[]};var o=a("VU/8")(s,r,!1,function(t){a("4S3N")},"data-v-c9413f1e",null);e.default=o.exports},"4S3N":function(t,e){}});